#################################################################
#### Scripts
##################################################################

timed_outdoor:
  alias: "Turn on outdoor lights and set timer"
  sequence:
    # Cancel ev. old timers
    - service: script.turn_off
      data:
         entity_id: script.timer_outdoor_off
    - service: homeassistant.turn_off
      data:
        entity_id: automation.timed_lights__movement_front_door
    - service: light.turn_on
      data:
        entity_id: group.outdoor_lights
        brightness: 255
    # Set new timer
    - service: script.turn_on
      data:
        entity_id: script.timer_outdoor_off

timer_outdoor_off:
  alias: "Turn off outdoor lights after 10 minutes"
  sequence:
    - delay:
        minutes: 10
    - service: light.turn_off
      data:
        entity_id: group.outdoor_lights
    - delay:
        seconds: 10
    - service: homeassistant.turn_on
      data:
        entity_id: automation.timed_lights__movement_front_door

timed_sunroom:
  alias: "Turn on sunroom lights and set timer"
  sequence:
    # Cancel ev. old timers
    - service: script.turn_off
      data:
         entity_id: script.timer_sunroom_off
    - service: scene.turn_on
      data:
        entity_id: scene.sunroom_nightlight
    # Set new timer
    - service: script.turn_on
      data:
        entity_id: script.timer_sunroom_off

timer_sunroom_off:
  alias: "Turn off sunroom lights after 10 minutes"
  sequence:
    - delay:
        minutes: 10
    - service: light.turn_off
      data:
        entity_id: group.sunroom_lights
